# Better Together - Environment Variables
# Copy this file to .env.local for local development

# ============================================
# NEON POSTGRESQL DATABASE
# ============================================
# Get your connection string from https://console.neon.tech
DATABASE_URL=postgresql://user:password@ep-xxx-xxx.us-east-1.aws.neon.tech/neondb?sslmode=require

# ============================================
# STRIPE PAYMENT INTEGRATION
# ============================================
# Get these from: https://dashboard.stripe.com/apikeys

# Public key (safe to expose in frontend)
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_KEY_HERE

# Secret key (MUST be kept secure - use wrangler secret put in production)
STRIPE_SECRET_KEY=sk_test_YOUR_KEY_HERE

# Webhook signing secret (from Stripe Dashboard > Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_YOUR_SECRET_HERE

# ============================================
# APPLICATION SETTINGS
# ============================================
ENVIRONMENT=development
APP_URL=http://localhost:3000

# ============================================
# EMAIL SERVICE (Resend)
# ============================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_YOUR_KEY_HERE
FROM_EMAIL=noreply@better-together.app

# ============================================
# PUSH NOTIFICATIONS
# ============================================
# Firebase Cloud Messaging (Android)
# Get from: https://console.firebase.google.com/
FCM_SERVER_KEY=YOUR_FCM_SERVER_KEY_HERE
FCM_PROJECT_ID=your-firebase-project-id

# Apple Push Notification service (iOS)
# Get from: https://developer.apple.com/account/
APNS_TEAM_ID=YOUR_TEAM_ID
APNS_KEY_ID=YOUR_KEY_ID
APNS_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nYOUR_P8_KEY_CONTENT_HERE\n-----END PRIVATE KEY-----
APNS_BUNDLE_ID=com.bettertogether.app
APNS_PRODUCTION=false  # Set to 'true' for production

# Admin API Key (for broadcast notifications)
ADMIN_API_KEY=your_secure_random_admin_key_here

# ============================================
# ANALYTICS & MONITORING
# ============================================
# Optional: External analytics services
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
SENTRY_DSN=https://your-sentry-dsn

# ============================================
# PRODUCTION SECRETS (wrangler secret put)
# ============================================
# These should NOT be in .env files in production
# Instead, add them using Wrangler CLI:
#
# wrangler secret put STRIPE_SECRET_KEY
# wrangler secret put STRIPE_WEBHOOK_SECRET
# wrangler secret put RESEND_API_KEY
#
# See D1_SETUP_INSTRUCTIONS.md for complete guide

# ============================================
# OPTIONAL: FEATURE FLAGS
# ============================================
ENABLE_AI_COACH=true
ENABLE_SUBSCRIPTION_BOXES=true
ENABLE_PARTNER_INTEGRATIONS=false
ENABLE_ANALYTICS_TRACKING=true

# ============================================
# LIVEKIT VIDEO/AUDIO COMMUNICATION
# ============================================
# Get from: https://cloud.livekit.io
LIVEKIT_URL=wss://your-app.livekit.cloud
LIVEKIT_API_KEY=YOUR_API_KEY_HERE
LIVEKIT_API_SECRET=YOUR_API_SECRET_HERE

# ============================================
# OPTIONAL: RATE LIMITING
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
